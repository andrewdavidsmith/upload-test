name: Test ncurses on macOS

on:
  workflow_dispatch:

jobs:
  macos-test:
    runs-on: macos-15
    steps:
    - uses: actions/checkout@v4
    - name: Update Homebrew
      run: brew update
    - name: Install dependencies
      run: |
        brew install ncurses
    - name: Configure
      run: |
        brew --prefix
        sudo find /usr -name libncurses.a
        sudo find /opt -name libncurses.a
        sudo find /usr -name ncurses.h
        sudo find /opt -name ncurses.h
        cc main.c -I$(brew --prefix)/include -L$(brew --prefix)/lib
        a.out
